<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="theme-color" content="#0f2e3c"/>
  <title>LexDigital · Asesoría Legal</title>

  <link rel="stylesheet" href="styles.css"/>

  <!-- PWA -->
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/png" href="assets/icon-192.png" />
  <link rel="apple-touch-icon" href="assets/icon-192.png" />

  <style>
    /* Estilos de la pantalla de acceso (mockup) */
    .center{
      display:flex; flex-direction:column; align-items:center; justify-content:center;
      gap:18px; padding:24px; text-align:center;
    }
    .menu-card{ background:#fff; border:1px solid var(--border); border-radius:24px; padding:18px; width:100%; max-width:520px; box-shadow: var(--shadow); }
    .logo-big{ width:160px; height:160px; object-fit:contain }
    .btn-outline{
      display:flex; align-items:center; justify-content:center;
      width:100%; padding:14px 16px; border-radius:999px; font-weight:700;
      background:#fff; border:2px solid #1f2937; color:#1f2937; text-decoration:none;
    }
    .btn-outline:hover{ filter:brightness(0.96) }
    .stack{ display:grid; gap:14px }
    .stack .btn-outline{ font-size:1.05rem }
    /* Ocultamos tabbar para esta demo tipo ventanas */
    #tabbar{ display:none !important }
  </style>
</head>
<body>
  <div class="container">

    <!-- PANTALLA 1: ACCESO (solo LOGO + 3 botones) -->
    <section id="acceso" class="section active">
      <div class="center">
        <!-- LOGO (no quitar) -->
        <img class="logo-big" src="assets/logo.png" alt="LexDigital logo">

        <div class="menu-card">
          <div class="stack">
            <button class="btn-outline" id="btn-login">Ya tengo una cuenta</button>
            <button class="btn-outline" id="btn-register">Registrarme</button>
            <button class="btn-outline" id="btn-guest">Entrar como invitado</button>
          </div>
        </div>
      </div>
    </section>

    <!-- PANTALLA 2: MENÚ PRINCIPAL -->
    <section id="menu" class="section">
      <div class="card" style="text-align:center">
        <h1>Abogado LexDigital</h1>
      </div>
      <div class="menu-card" style="margin:16px auto; max-width:520px">
        <div class="stack">
          <a class="btn-outline" href="#consultas" data-goto="consultas">Mi Abogado Legal</a>
          <a class="btn-outline" href="#plantillas" data-goto="plantillas">Contratos y Planillas</a>
          <a class="btn-outline" href="#cursos" data-goto="cursos">Cursos Legales</a>
          <a class="btn-outline" href="#planes" data-goto="planes">Planes y Precios</a>
        </div>
      </div>
    </section>

    <!-- CONSULTAS -->
    <section id="consultas" class="section">
      <div class="card">
        <h1>Consulta legal</h1>
        <form id="consulta-form" class="grid">
          <div>
            <label>Área</label>
            <select name="area">
              <option>Laboral</option>
              <option>Civil</option>
              <option>Penal</option>
              <option>Empresarial</option>
            </select>
          </div>
          <div>
            <label>Tu teléfono (WhatsApp)</label>
            <input id="telefono" class="input" name="telefono" placeholder="9xx xxx xxx"/>
          </div>
          <div>
            <label>Describe tu consulta</label>
            <textarea class="input" id="mensaje" name="mensaje" rows="5" placeholder="Ej.: Mi arrendador no me devuelve la garantía…"></textarea>
          </div>
          <div>
            <button class="btn primary" type="submit">Simular respuesta</button>
            <button class="btn" type="button" id="btn-whatsapp">Enviar por WhatsApp</button>
          </div>
        </form>
      </div>
      <div class="card">
        <h2>Respuesta</h2>
        <div id="respuesta" class="generated">La orientación simulada aparecerá aquí.</div>
      </div>
    </section>

    <!-- PLANTILLAS -->
    <section id="plantillas" class="section">
      <div class="card">
        <h1>Contratos y Planillas</h1>
        <div class="grid cols-2">
          <div class="card"><b>Arrendamiento</b><p class="muted">Alquiler de inmueble</p></div>
          <div class="card"><b>Compraventa</b><p class="muted">Bien mueble</p></div>
        </div>
      </div>
    </section>

    <!-- CURSOS -->
    <section id="cursos" class="section">
      <div class="card">
        <h1>Cursos legales</h1>
        <p class="muted">Próximamente.</p>
      </div>
    </section>

    <!-- PLANES -->
    <section id="planes" class="section">
      <div class="card">
        <h1>Planes y precios</h1>
        <div class="grid cols-3">
          <div class="card">
            <h2>Free</h2><p class="muted">Chatbot y plantillas básicas.</p><button class="btn">Elegir</button>
          </div>
          <div class="card">
            <h2>Pro</h2><p class="muted">Consultas priorizadas y plantillas pro.</p><button class="btn primary">Elegir</button>
          </div>
          <div class="card">
            <h2>Business</h2><p class="muted">Soporte a PYMES y gestión de casos.</p><button class="btn">Elegir</button>
          </div>
        </div>
      </div>
    </section>

  </div>

  <!-- Tabbar oculta (modo ventanas) -->
  <nav id="tabbar" class="tabbar" style="display:none">
    <a class="tab active" href="#menu" data-target="menu">Menú</a>
    <a class="tab" href="#consultas" data-target="consultas">Consultas</a>
    <a class="tab" href="#plantillas" data-target="plantillas">Plantillas</a>
  </nav>

  <!-- Script principal -->
  <script src="app.js"></script>

  <!-- Fallback: si app.js estuviera en caché, igual navega -->
  <script>
    (function(){
      const sections = document.querySelectorAll('.section');
      function show(id){
        sections.forEach(s => s.classList.toggle('active', s.id === id));
        if (location.hash.replace('#','') !== id) location.hash = id;
      }
      // botones de acceso
      ['btn-login','btn-register','btn-guest'].forEach(id=>{
        document.getElementById(id)?.addEventListener('click', ()=> show('menu'));
      });
      // enlaces del menú
      document.querySelectorAll('[data-goto]').forEach(a=>{
        a.addEventListener('click',(e)=>{ e.preventDefault(); show(a.getAttribute('data-goto')); });
      });
      // hash back
      window.addEventListener('hashchange', ()=>{
        const id = location.hash?.replace('#','') || 'acceso';
        if (document.getElementById(id)) show(id);
      });
    })();
  </script>

  <!-- Service Worker -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('sw.js'));
    }
  </script>
</body>
</html>
